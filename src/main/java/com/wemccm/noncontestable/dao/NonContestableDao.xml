<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.wemccm.noncontestable.dao.NonContestableDao">

	
	<select id="findNonContestableProjectComponent" 
	
 	parameterType="com.wemccm.common.pojo.NonContestableProjectComponentPojo"
		resultType="com.wemccm.common.entity.NonContestableProjectComponent">

		SELECT * FROM noncontestableprojectcomponent 
	
		WHERE projectTypeId = #{projectTypeId}

	</select>
	

	<select id="selectAllNonContestableType" 
	
		resultType="com.wemccm.common.entity.NonContestableType">

		SELECT * FROM noncontestabletype 

	</select>


	<select id="findNonContestableOtherCostsItem" 
	
 	parameterType="com.wemccm.common.pojo.NonContestableOtherCostsItemPojo"
		resultType="com.wemccm.common.entity.NonContestableOtherCostsItem">

		SELECT * FROM noncontestableothercostsiterm 
	
		WHERE nonContestableTypeId = #{nonContestableTypeId}

	</select>

	
	<select id="insertProjectNonContestableProjectComponent" 
 	parameterType="com.wemccm.common.entity.ProjectNonContestableProjectComponent">
		
		INSERT INTO projectnoncontestableprojectcomponent (projectId, nonContestableProjectComponentId,hours,total) 
		VALUES (#{projectId},#{nonContestableProjectComponentId},#{hours},#{total})
		
	</select>
	
	
		<select id="insertNonContestableOtherCosts" 
 	parameterType="com.wemccm.common.entity.NonContestableOtherCosts">
		
		INSERT INTO noncontestableothercosts (projectId, nonContestableOtherCostsItemId,quantity,total) 
		VALUES (#{projectId},#{nonContestableOtherCostsItemId},#{quantity},#{total})
		
	</select>

		<select id="findTablePPC" 
	
 	parameterType="com.wemccm.common.pojo.projectIdPojo"
		resultType="com.wemccm.common.pojo.MultiNonContestableProjectComponentPojo">

		SELECT * FROM projectnoncontestableprojectcomponent 
	
		WHERE projectId = #{projectId}

	</select>
	
			 <select id="findTablePTAndPC" 
 	parameterType="Integer"
		resultType="com.wemccm.common.pojo.nonContestableProjectComponentIdDetailPojo">
		
		SELECT pc.cost,pc.projectTypeId,pc.description as NonContestableProjectComponentDescription,
				pt.name,pt.projectManagement,pt.design,pt.description as ProjectTypeDescription
		FROM noncontestableprojectcomponent as pc
		
		LEFT JOIN projecttype as pt
		ON pc.projectTypeId=pt.id
		
		WHERE pc.id=#{id}
		
	</select>









		<select id="findTableOC" 
	
 	parameterType="com.wemccm.common.pojo.projectIdPojo"
		resultType="com.wemccm.common.pojo.MultiNonContestableOtherCostsPojo">

		SELECT * FROM noncontestableothercosts 
	
		WHERE projectId = #{projectId}

	</select>
	
			 <select id="findTableTAndOCI" 
 	parameterType="Integer"
		resultType="com.wemccm.common.pojo.NonContestableOtherCostsDetailPojo">
		
		SELECT oci.*,t.name
		FROM noncontestableothercostsiterm as oci
		
		LEFT JOIN noncontestabletype as t
		ON oci.nonContestableTypeId=t.id
		
		WHERE oci.id=#{id}
		
	</select>










</mapper>