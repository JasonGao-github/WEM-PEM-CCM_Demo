<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.wemccm.connectionhandover.dao.ConnectionHandoverDao">


<select id="findConnectionHandover" 
	parameterType="Integer"
		resultType="com.wemccm.common.pojo.ConnectionHandoverPojo">

select cc.inquiryNumber as projectRef,
cc.supplyAddress as projectAddress,
nc.companyTradingName as coustomerBusinesName,
nc.customerResponsibleOfficer as customerContactName,
nc.date as date
from customercontribution as cc
LEFT JOIN negotiatedconnection as nc
on cc.projectId=nc.projectId
where nc.projectId=#{projectId}


	</select> 
	
	

	

	
	
	
	
		<select id="insertConnectionHandover" 
 	parameterType="com.wemccm.common.entity.ConnectionHandover">
		
		INSERT INTO connectionhandover (	
		projectId,projectRef,portalNo,date,coustomerBusinesName,projectAddress,customerContactName,
		customerContactNumber,customerContactEmail,maximumAllocatedCapacityPhases,
		maximumAllocatedCapacityAmps,maximumAllocatedCapacitykVA,existingConnection,
		embeddedNetwork,reCadvisedofCTarrangement,propertyRequirement,projectManagerName,
		projectManagerPhone ,ugCrewRequired,networkOperatorRequired,complianceReviewedDesign,
		supplyPointDetails,supplyPointComments,silVonissue,silVonissueComments) 
		VALUES (	
			#{projectId},#{projectRef},#{portalNo},#{date},#{coustomerBusinesName},#{projectAddress},
			#{customerContactName},#{customerContactNumber},#{customerContactEmail},
			#{maximumAllocatedCapacityPhases},#{maximumAllocatedCapacityAmps},
			#{maximumAllocatedCapacitykVA},#{existingConnection},#{embeddedNetwork},
			#{reCadvisedofCTarrangement},#{propertyRequirement},#{projectManagerName},
			#{projectManagerPhone },#{ugCrewRequired},#{networkOperatorRequired},
			#{complianceReviewedDesign},#{supplyPointDetails},#{supplyPointComments},
			#{silVonissue},#{silVonissueComments})
		
	</select>
	
	
	

	




</mapper>